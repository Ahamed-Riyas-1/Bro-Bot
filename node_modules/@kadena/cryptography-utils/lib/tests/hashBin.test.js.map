{"version":3,"file":"hashBin.test.js","sourceRoot":"","sources":["../../src/tests/hashBin.test.ts"],"names":[],"mappings":";;AAAA,mCAAsC;AACtC,wCAAqC;AAErC,MAAM,eAAe,GAejB;IACF,SAAS,EAAE,IAAI;IACf,OAAO,EAAE;QACP,IAAI,EAAE;YACJ,IAAI,EAAE;gBACJ,uBAAuB,EAAE;oBACvB,kEAAkE;iBACnE;aACF;YACD,IAAI,EAAE,oKAAoK;SAC3K;KACF;IACD,OAAO,EAAE;QACP;YACE,MAAM,EACJ,kEAAkE;SACrE;KACF;IACD,IAAI,EAAE;QACJ,YAAY,EAAE,CAAC;QACf,GAAG,EAAE,CAAC;QACN,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,EAAE;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,EAAE;KACX;IACD,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;CAChC,CAAC;AAEF,IAAA,aAAI,EAAC,8FAA8F,EAAE,GAAG,EAAE;IACxG,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;IAE5C,MAAM,MAAM,GAAG,IAAA,iBAAO,EAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,GAAG,IAAI,UAAU,CAAC;QAC9B,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG;QACxE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;KAC3E,CAAC,CAAC;IAEH,IAAA,eAAM,EAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC","sourcesContent":["import { expect, test } from 'vitest';\nimport { hashBin } from '../hashBin';\n\nconst pactTestCommand: {\n  networkId: undefined | unknown;\n  payload: {\n    exec: { data: { 'accounts-admin-keyset': string[] }; code: string };\n  };\n  signers: { pubKey: string }[];\n  meta: {\n    creationTime: number;\n    ttl: number;\n    gasLimit: number;\n    chainId: string;\n    gasPrice: number;\n    sender: string;\n  };\n  nonce: string;\n} = {\n  networkId: null,\n  payload: {\n    exec: {\n      data: {\n        'accounts-admin-keyset': [\n          'ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d',\n        ],\n      },\n      code: '(define-keyset \\'k (read-keyset \"accounts-admin-keyset\"))\\n(module system \\'k\\n  (defun get-system-time ()\\n    (time \"2017-10-31T12:00:00Z\")))\\n(get-system-time)',\n    },\n  },\n  signers: [\n    {\n      pubKey:\n        'ba54b224d1924dd98403f5c751abdd10de6cd81b0121800bf7bdbdcfaec7388d',\n    },\n  ],\n  meta: {\n    creationTime: 0,\n    ttl: 0,\n    gasLimit: 0,\n    chainId: '',\n    gasPrice: 0,\n    sender: '',\n  },\n  nonce: JSON.stringify('step01'),\n};\n\ntest('should perform blake2b256 hashing on a string and output hash as an Uint8Array binary object', () => {\n  const str = JSON.stringify(pactTestCommand);\n\n  const actual = hashBin(str);\n  const expected = new Uint8Array([\n    186, 137, 108, 137, 216, 120, 13, 99, 126, 15, 142, 5, 160, 73, 103, 162,\n    194, 252, 123, 159, 156, 24, 33, 167, 255, 73, 118, 53, 203, 121, 154, 175,\n  ]);\n\n  expect(expected).toEqual(actual);\n});\n"]}